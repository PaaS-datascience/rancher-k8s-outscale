{
  "IpPermissions": [
  { 
  "IpProtocol": "tcp",
  "FromPort": 22,
  "ToPort": 22,
  "IpRanges": [
    {
      "CidrIp": "{{ hostvars[groups['rancher_public'][0]]['inventory_hostname'] }}/32"
      },
      {
      "CidrIp": "{{ hostvars[groups['rancher_public'][1]]['inventory_hostname'] }}/32"
      },
      {
      "CidrIp": "{{ hostvars[groups['rancher_public'][2]]['inventory_hostname'] }}/32"
      },
      {
      "CidrIp": "8.41.214.11/32"
      },
      {
      "CidrIp": "8.25.146.11/32"
      } 
              ]
},
  {
  "IpProtocol": "tcp",
  "FromPort": 80,
  "ToPort": 80, 
  "IpRanges": [ 
    {
      "CidrIp": "{{ hostvars[groups['rancher_public'][0]]['inventory_hostname'] }}/32"
      },
      {
      "CidrIp": "{{ hostvars[groups['rancher_public'][1]]['inventory_hostname'] }}/32"
      },
      {
      "CidrIp": "{{ hostvars[groups['rancher_public'][2]]['inventory_hostname'] }}/32"
      },
      {
      "CidrIp": "8.41.214.11/32"
      },
      {
      "CidrIp": "8.25.146.11/32"
      } 
                ]
  }, 
  { 
  "IpProtocol": "tcp", 
  "FromPort": 443, 
  "ToPort": 443, 
  "IpRanges": [ 
    {
      "CidrIp": "{{ hostvars[groups['rancher_public'][0]]['inventory_hostname'] }}/32"
      },
      {
      "CidrIp": "{{ hostvars[groups['rancher_public'][1]]['inventory_hostname'] }}/32"
      },
      {
      "CidrIp": "{{ hostvars[groups['rancher_public'][2]]['inventory_hostname'] }}/32"
      },
      {
      "CidrIp": "8.41.214.11/32"
      },
      {
      "CidrIp": "8.25.146.11/32"
      } 
                ]
  }, 
  { 
  "IpProtocol": "tcp",
  "FromPort": 2379,
  "ToPort": 2380,
  "IpRanges": [
    {
      "CidrIp": "{{ hostvars[groups['rancher_public'][0]]['inventory_hostname'] }}/32"
      },
      {
      "CidrIp": "{{ hostvars[groups['rancher_public'][1]]['inventory_hostname'] }}/32"
      },
      {
      "CidrIp": "{{ hostvars[groups['rancher_public'][2]]['inventory_hostname'] }}/32"
      }
                ]
  }, 
  { 
  "IpProtocol": "tcp", 
  "FromPort": 6443, 
  "ToPort": 6443, 
  "IpRanges": [ 
    {
      "CidrIp": "{{ hostvars[groups['rancher_public'][0]]['inventory_hostname'] }}/32"
      },
      {
      "CidrIp": "{{ hostvars[groups['rancher_public'][1]]['inventory_hostname'] }}/32"
      },
      {
      "CidrIp": "{{ hostvars[groups['rancher_public'][2]]['inventory_hostname'] }}/32"
      }
                ]
  }, 
  { 
  "IpProtocol": "udp", 
  "FromPort": 8472, 
  "ToPort": 8472, 
  "IpRanges": [ 
    {
      "CidrIp": "{{ hostvars[groups['rancher_public'][0]]['inventory_hostname'] }}/32"
      },
      {
      "CidrIp": "{{ hostvars[groups['rancher_public'][1]]['inventory_hostname'] }}/32"
      },
      {
      "CidrIp": "{{ hostvars[groups['rancher_public'][2]]['inventory_hostname'] }}/32"
      }
                ]
  }, 
  { 
  "IpProtocol": "udp", 
  "FromPort": 4789,
  "ToPort": 4789,
  "IpRanges": [ 
    {
      "CidrIp": "{{ hostvars[groups['rancher_public'][0]]['inventory_hostname'] }}/32"
      },
      {
      "CidrIp": "{{ hostvars[groups['rancher_public'][1]]['inventory_hostname'] }}/32"
      },
      {
      "CidrIp": "{{ hostvars[groups['rancher_public'][2]]['inventory_hostname'] }}/32"
      }
                ]
  }, 
  { 
    "IpProtocol": "tcp", 
    "FromPort": 6443,
    "ToPort": 6443,
    "IpRanges": [ 
      {
        "CidrIp": "{{ hostvars[groups['rancher_public'][0]]['inventory_hostname'] }}/32"
        },
        {
        "CidrIp": "{{ hostvars[groups['rancher_public'][1]]['inventory_hostname'] }}/32"
        },
        {
        "CidrIp": "{{ hostvars[groups['rancher_public'][2]]['inventory_hostname'] }}/32"
        }
                  ]
    }, 
  { 
  "IpProtocol": "tcp", 
  "FromPort": 9099, 
  "ToPort": 9099, 
  "IpRanges": [ 
    {
      "CidrIp": "{{ hostvars[groups['rancher_public'][0]]['inventory_hostname'] }}/32"
      },
      {
      "CidrIp": "{{ hostvars[groups['rancher_public'][1]]['inventory_hostname'] }}/32"
      },
      {
      "CidrIp": "{{ hostvars[groups['rancher_public'][2]]['inventory_hostname'] }}/32"
      }
                ]
  }, 
  { 
  "IpProtocol": "tcp", 
  "FromPort": 10250, 
  "ToPort": 10250, 
  "IpRanges": [ 
    {
      "CidrIp": "{{ hostvars[groups['rancher_public'][0]]['inventory_hostname'] }}/32"
      },
      {
      "CidrIp": "{{ hostvars[groups['rancher_public'][1]]['inventory_hostname'] }}/32"
      },
      {
      "CidrIp": "{{ hostvars[groups['rancher_public'][2]]['inventory_hostname'] }}/32"
      }
                ]
  },
  {
  "IpProtocol": "tcp",
  "FromPort": 10254,
  "ToPort": 10254, 
  "IpRanges": [ 
    {
      "CidrIp": "{{ hostvars[groups['rancher_public'][0]]['inventory_hostname'] }}/32"
      },
      {
      "CidrIp": "{{ hostvars[groups['rancher_public'][1]]['inventory_hostname'] }}/32"
      },
      {
      "CidrIp": "{{ hostvars[groups['rancher_public'][2]]['inventory_hostname'] }}/32"
      }
                ]
  }, 
  { 
  "IpProtocol": "tcp", 
  "FromPort": 30000, 
  "ToPort": 32767, 
  "IpRanges": [ 
    {
      "CidrIp": "{{ hostvars[groups['rancher_public'][0]]['inventory_hostname'] }}/32"
      },
      {
      "CidrIp": "{{ hostvars[groups['rancher_public'][1]]['inventory_hostname'] }}/32"
      },
      {
      "CidrIp": "{{ hostvars[groups['rancher_public'][2]]['inventory_hostname'] }}/32"
      }
                ]
  }, 
  { 
  "IpProtocol": "udp", 
  "FromPort": 30000, 
  "ToPort": 32767, 
  "IpRanges": [ 
    {
      "CidrIp": "{{ hostvars[groups['rancher_public'][0]]['inventory_hostname'] }}/32"
      },
      {
      "CidrIp": "{{ hostvars[groups['rancher_public'][1]]['inventory_hostname'] }}/32"
      },
      {
      "CidrIp": "{{ hostvars[groups['rancher_public'][2]]['inventory_hostname'] }}/32"
      }
                ]
  } 
]
}
